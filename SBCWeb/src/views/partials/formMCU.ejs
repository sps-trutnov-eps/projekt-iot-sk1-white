<!-- filepath: c:\Users\mforb\Documents\git\projekt-iot-sk1-white\SBCWeb\src\views\partials\addMCUModal.ejs -->
<!-- Add MCU Modal -->
<div id="addMCUModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
    <!-- Modal Header -->
    <div class="flex items-center justify-between p-6 border-b border-ash-grey-200">
      <h2 class="text-2xl font-bold text-midnight-violet-900">Add New MCU</h2>
      <button id="closeModal" class="text-silver-600 hover:text-silver-800">
        <i class="fas fa-times text-xl"></i>
      </button>
    </div>

    <!-- Modal Body -->
    <form id="addMCUForm" class="p-6 space-y-4">
      <!-- Error Message -->
      <div id="errorMessage" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
        <p class="text-sm"></p>
      </div>

      <!-- MCU Name -->
      <div>
        <label class="block text-sm font-medium text-midnight-violet-900 mb-2">
          MCU Name <span class="text-red-500">*</span>
        </label>
        <input 
          type="text" 
          name="name" 
          required
          class="w-full px-4 py-2 border border-ash-grey-300 rounded-lg focus:ring-2 focus:ring-vintage-grape-500 focus:border-transparent"
          placeholder="e.g., ESP32-Living-Room"
        >
      </div>

      <!-- Type -->
      <div>
        <label class="block text-sm font-medium text-midnight-violet-900 mb-2">
          Type <span class="text-red-500">*</span>
        </label>
        <select 
          name="type" 
          required
          class="w-full px-4 py-2 border border-ash-grey-300 rounded-lg focus:ring-2 focus:ring-vintage-grape-500 focus:border-transparent"
        >
          <option value="">Select type...</option>
          <option value="ESP32">ESP32</option>
          <option value="ESP8266">ESP8266</option>
          <option value="Arduino">Arduino</option>
          <option value="Raspberry Pi">Raspberry Pi</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <!-- IP Address -->
      <div>
        <label class="block text-sm font-medium text-midnight-violet-900 mb-2">
          IP Address
        </label>
        <input 
          type="text" 
          name="ipAddress"
          pattern="^(\d{1,3}\.){3}\d{1,3}$"
          class="w-full px-4 py-2 border border-ash-grey-300 rounded-lg focus:ring-2 focus:ring-vintage-grape-500 focus:border-transparent"
          placeholder="192.168.1.100"
        >
        <p class="text-xs text-silver-600 mt-1">Format: xxx.xxx.xxx.xxx</p>
      </div>

      <!-- MAC Address -->
      <div>
        <label class="block text-sm font-medium text-midnight-violet-900 mb-2">
          MAC Address
        </label>
        <input 
          type="text" 
          name="macAddress"
          pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"
          class="w-full px-4 py-2 border border-ash-grey-300 rounded-lg focus:ring-2 focus:ring-vintage-grape-500 focus:border-transparent"
          placeholder="AA:BB:CC:DD:EE:FF"
        >
        <p class="text-xs text-silver-600 mt-1">Format: XX:XX:XX:XX:XX:XX</p>
      </div>

      <!-- Location -->
      <div>
        <label class="block text-sm font-medium text-midnight-violet-900 mb-2">
          Location
        </label>
        <input 
          type="text" 
          name="location"
          class="w-full px-4 py-2 border border-ash-grey-300 rounded-lg focus:ring-2 focus:ring-vintage-grape-500 focus:border-transparent"
          placeholder="e.g., Living Room, Kitchen"
        >
      </div>

      <!-- Description -->
      <div>
        <label class="block text-sm font-medium text-midnight-violet-900 mb-2">
          Description
        </label>
        <textarea 
          name="description"
          rows="3"
          class="w-full px-4 py-2 border border-ash-grey-300 rounded-lg focus:ring-2 focus:ring-vintage-grape-500 focus:border-transparent resize-none"
          placeholder="Add notes or description..."
        ></textarea>
      </div>

      <!-- Modal Footer -->
      <div class="flex justify-end space-x-3 pt-4 border-t border-ash-grey-200">
        <button 
          type="button" 
          id="cancelBtn"
          class="px-6 py-2 border border-ash-grey-300 text-silver-700 rounded-lg hover:bg-ash-grey-50 transition"
        >
          Cancel
        </button>
        <button 
          type="submit"
          class="px-6 py-2 bg-vintage-grape-600 text-white rounded-lg hover:bg-vintage-grape-700 transition"
        >
          <i class="fas fa-plus mr-2"></i>
          Add MCU
        </button>
      </div>
    </form>
  </div>
</div>