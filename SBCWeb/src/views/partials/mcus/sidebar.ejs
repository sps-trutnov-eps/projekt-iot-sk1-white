<!-- Sidebar pro MCU stránku -->
<aside id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-midnight-violet-900 shadow-2xl transition-all duration-300 ease-in-out z-40">
  <div class="flex flex-col h-full">
    
    <!-- Sidebar Header -->
    <div class="p-6 border-b border-midnight-violet-800">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3 overflow-hidden">
          <div class="w-10 h-10 bg-gradient-to-br from-vintage-grape-400 to-midnight-violet-500 rounded-lg shadow-lg flex-shrink-0"></div>
          <span id="sidebarTitle" class="text-ash-grey-50 font-bold text-lg whitespace-nowrap transition-opacity duration-300">IoT Control</span>
        </div>
        <button id="closeSidebar" class="text-ash-grey-300 hover:text-ash-grey-50 lg:hidden">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="flex-1 overflow-y-auto p-4">
      <div class="space-y-4">

        <!-- Quick Filters -->
        <div>
          <h3 class="text-xs font-semibold text-ash-grey-400 uppercase tracking-wider mb-3 sidebar-text">Rychlé filtry</h3>
          <div class="space-y-1">
            <button class="quick-filter active w-full flex items-center justify-between px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition" data-filter="all">
              <div class="flex items-center space-x-3 overflow-hidden">
                <i class="fas fa-list w-4 flex-shrink-0"></i>
                <span class="sidebar-text whitespace-nowrap">Všechna zařízení</span>
              </div>
              <span class="text-xs bg-midnight-violet-700 px-2 py-0.5 rounded-full" id="countAll">0</span>
            </button>
            <button class="quick-filter w-full flex items-center justify-between px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition" data-filter="online">
              <div class="flex items-center space-x-3 overflow-hidden">
                <span class="w-2 h-2 bg-green-400 rounded-full flex-shrink-0"></span>
                <span class="sidebar-text whitespace-nowrap">Online</span>
              </div>
              <span class="text-xs bg-green-900 text-green-300 px-2 py-0.5 rounded-full" id="countOnline">0</span>
            </button>
            <button class="quick-filter w-full flex items-center justify-between px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition" data-filter="offline">
              <div class="flex items-center space-x-3 overflow-hidden">
                <span class="w-2 h-2 bg-red-400 rounded-full flex-shrink-0"></span>
                <span class="sidebar-text whitespace-nowrap">Offline</span>
              </div>
              <span class="text-xs bg-red-900 text-red-300 px-2 py-0.5 rounded-full" id="countOffline">0</span>
            </button>
          </div>
        </div>

        <!-- Filter by Type -->
        <div>
          <h3 class="text-xs font-semibold text-ash-grey-400 uppercase tracking-wider mb-3 sidebar-text">Podle typu</h3>
          <div class="space-y-1">
            <button class="type-filter w-full flex items-center justify-between px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition" data-type="ESP32">
              <div class="flex items-center space-x-3 overflow-hidden">
                <i class="fas fa-microchip w-4 text-vintage-grape-400 flex-shrink-0"></i>
                <span class="sidebar-text whitespace-nowrap">ESP32</span>
              </div>
              <span class="text-xs bg-midnight-violet-700 px-2 py-0.5 rounded-full" id="countESP32">0</span>
            </button>
            <button class="type-filter w-full flex items-center justify-between px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition" data-type="ESP8266">
              <div class="flex items-center space-x-3 overflow-hidden">
                <i class="fas fa-microchip w-4 text-vintage-grape-400 flex-shrink-0"></i>
                <span class="sidebar-text whitespace-nowrap">ESP8266</span>
              </div>
              <span class="text-xs bg-midnight-violet-700 px-2 py-0.5 rounded-full" id="countESP8266">0</span>
            </button>
            <button class="type-filter w-full flex items-center justify-between px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition" data-type="Arduino">
              <div class="flex items-center space-x-3 overflow-hidden">
                <i class="fas fa-microchip w-4 text-vintage-grape-400 flex-shrink-0"></i>
                <span class="sidebar-text whitespace-nowrap">Arduino</span>
              </div>
              <span class="text-xs bg-midnight-violet-700 px-2 py-0.5 rounded-full" id="countArduino">0</span>
            </button>
            <button class="type-filter w-full flex items-center justify-between px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition" data-type="Raspberry Pi">
              <div class="flex items-center space-x-3 overflow-hidden">
                <i class="fas fa-microchip w-4 text-vintage-grape-400 flex-shrink-0"></i>
                <span class="sidebar-text whitespace-nowrap">Raspberry Pi</span>
              </div>
              <span class="text-xs bg-midnight-violet-700 px-2 py-0.5 rounded-full" id="countRaspberry">0</span>
            </button>
          </div>
        </div>

        <!-- Quick Actions -->
        <div>
          <h3 class="text-xs font-semibold text-ash-grey-400 uppercase tracking-wider mb-3 sidebar-text">Akce</h3>
          <div class="space-y-1">
            <button id="MCUOpen" class="w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-vintage-grape-400 hover:bg-midnight-violet-800 border border-dashed border-vintage-grape-700 hover:border-vintage-grape-500 transition overflow-hidden">
              <i class="fas fa-plus w-4 flex-shrink-0"></i>
              <span class="sidebar-text whitespace-nowrap">Přidat MCU</span>
            </button>
            <button id="refreshAll" class="w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition overflow-hidden">
              <i class="fas fa-sync-alt w-4 flex-shrink-0"></i>
              <span class="sidebar-text whitespace-nowrap">Obnovit vše</span>
            </button>
            <button id="exportList" class="w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-ash-grey-300 hover:bg-midnight-violet-800 transition overflow-hidden">
              <i class="fas fa-download w-4 flex-shrink-0"></i>
              <span class="sidebar-text whitespace-nowrap">Exportovat seznam</span>
            </button>
          </div>
        </div>

      </div>
    </nav>

    <!-- Sidebar Footer -->
    <div class="p-4 border-t border-midnight-violet-800">
      <div class="flex items-center space-x-3 px-4 py-2">
        <div class="w-8 h-8 bg-vintage-grape-600 rounded-full flex items-center justify-center">
          <span class="text-ash-grey-50 text-sm font-semibold">U</span>
        </div>
        <div class="flex-1 sidebar-text">
          <p class="text-ash-grey-50 text-sm font-medium">User</p>
          <p class="text-ash-grey-400 text-xs">yezec@t15.local</p>
        </div>
        <a href="/logout" title="Odhlásit se" class="ml-2 p-2 rounded-full hover:bg-midnight-violet-700 transition text-ash-grey-300 hover:text-red-400">
          <i class="fas fa-sign-out-alt"></i>
        </a>
      </div>
    </div>
  </div>
</aside>
