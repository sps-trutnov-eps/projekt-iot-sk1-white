<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MCU Controllers - <%= projectName %></title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'ash-grey': {'50':'#f2f3f1','100':'#e6e7e4','200':'#ccd0c8','300':'#b3b8ad','400':'#9aa092','500':'#808877','600':'#676d5f','700':'#4d5247','800':'#33372f','900':'#1a1b18','950':'#121311'},
            'silver': {'50':'#f2f3f2','100':'#e5e6e5','200':'#cbcdcb','300':'#b1b4b1','400':'#979b97','500':'#7d827d','600':'#646864','700':'#4b4e4b','800':'#323432','900':'#191a19','950':'#111211'},
            'mauve-shadow': {'50':'#f4f0f3','100':'#e9e2e7','200':'#d3c5cf','300':'#bda8b7','400':'#a78ba0','500':'#916e88','600':'#74586d','700':'#574251','800':'#3a2c36','900':'#1d161b','950':'#140f13'},
            'vintage-grape': {'50':'#f3f0f4','100':'#e7e2e9','200':'#cfc4d4','300':'#b7a7be','400':'#a08aa8','500':'#886c93','600':'#6d5775','700':'#514158','800':'#362b3b','900':'#1b161d','950':'#130f15'},
            'midnight-violet': {'50':'#f3eff5','100':'#e8e0eb','200':'#d0c1d7','300':'#b9a2c3','400':'#a183af','500':'#8a639c','600':'#6e507c','700':'#533c5d','800':'#37283e','900':'#1c141f','950':'#130e16'}
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="/css/dashboard.css">
</head>
<%- include('partials/common/toastNotification') %>
<body class="bg-ash-grey-50 min-h-screen">
  
  <%- include('partials/mcus/sidebar') %>

  <!-- Main Content -->
  <div id="mainContent" class="lg:ml-64 transition-all duration-300">
    
    <%- include('partials/mcus/header') %>

    <!-- MCU List Content -->
    <main class="p-6">
      
      <%- include('partials/mcus/searchBar') %>

      <!-- MCU Cards List -->
      <div id="mcuGrid" class="flex flex-col gap-3 w-full">
        <!-- Ukázková karta MCU -->
        <div class="mcu-card bg-white rounded-lg shadow-sm border border-ash-grey-200 hover:shadow-md transition-shadow mb-4" data-id="1" data-status="online" data-type="ESP32">
          <div class="flex items-center p-4">
            <!-- Status + Icon -->
            <div class="flex items-center space-x-4">
              <div class="relative">
                <div class="w-12 h-12 bg-gradient-to-br from-midnight-violet-700 to-vintage-grape-600 rounded-xl flex items-center justify-center">
                  <i class="fas fa-microchip text-xl text-white"></i>
                </div>
                <span class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"></span>
              </div>
              <div class="min-w-[140px]">
                <h3 class="font-semibold text-midnight-violet-900">ESP32-LivingRoom</h3>
                <span class="text-xs text-silver-500">ESP32</span>
              </div>
            </div>
            <div class="flex-1 grid grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-1 mx-6 text-sm">
              <div class="flex items-center space-x-2">
                <span class="text-xs text-silver-500 font-semibold">IP:</span>
                <span class="text-silver-700 font-mono">192.168.1.50</span>
              </div>
              <div class="flex items-center space-x-2">
                <span class="text-xs text-silver-500 font-semibold">MAC:</span>
                <span class="text-silver-700 font-mono text-xs">AA:BB:CC:DD:EE:01</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-map-marker-alt text-silver-400 w-4"></i>
                <span class="text-silver-700">Obývací pokoj</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-clock text-silver-400 w-4"></i>
                <span class="text-green-600">před 1 min</span>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button class="view-data-btn w-9 h-9 text-vintage-grape-600 hover:bg-vintage-grape-50 rounded-lg flex items-center justify-center transition" data-id="1" title="Zobrazit data">
                <i class="fas fa-chart-line"></i>
              </button>
              <button class="edit-mcu-btn w-9 h-9 text-silver-600 hover:bg-ash-grey-100 rounded-lg flex items-center justify-center transition" data-id="1" title="Upravit">
                <i class="fas fa-pen"></i>
              </button>
              <button class="delete-mcu-btn w-9 h-9 text-red-500 hover:bg-red-50 rounded-lg flex items-center justify-center transition" data-id="1" title="Smazat">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        </div>

      </div>

      <!-- Přidat MCU tlačítko je nyní pouze v sidebaru -->

    </main>
  </div>

  <!-- Overlay for mobile sidebar -->
  <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden lg:hidden"></div>

  <!-- Add/Edit MCU Modal -->
  <%- include('partials/common/formMCU') %>

  <%- include('partials/common/formMCU') %>
  <%- include('partials/mcus/addTypeModal') %>

  <!-- Delete Confirmation Modal -->
  <%- include('partials/common/deleteModal') %>

  <script src="/js/components/modals.js"></script>
  <script src="/js/components/forms.js"></script>
  <script src="/js/components/addMCU.js"></script>
  <script src="/js/pages/mcus.js"></script>
  <script src="/js/common/loadData.js"></script>
  
</body>
</html>
